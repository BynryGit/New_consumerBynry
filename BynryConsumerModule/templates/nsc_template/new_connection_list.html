<!DOCTYPE html>

<html lang="en">
{% load staticfiles %}
<head>
    <meta charset="utf-8"/>
    <title>New Service Request | Bynry</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="" name="description"/>
    <meta content="" name="author"/>
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/simple-line-icons/simple-line-icons.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/select2/css/select2.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/select2/css/select2-bootstrap.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/uniform/css/uniform.default.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/datatables/datatables.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css' %}"
          rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/css/plugins.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/layouts/layout/css/layout.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/layouts/layout/css/themes/darkblue.min.css' %}" rel="stylesheet" type="text/css"
          id="style_color"/>
    <link href="{% static 'assets/layouts/layout/css/custom.min.css' %}" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="favicon.ico"/>

    <style>
        th{
            text-align:center;
        }
        td{
            text-align:center;
        }
        btn-sm{
            width: 85px;
        }
        .help-block{
            display:none;
            color:red;
        }


    </style>
    <link href="{% static 'assets/global/css/components.min.css' %}" rel="stylesheet" id="style_components"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css' %}"
          rel="stylesheet" type="text/css"/>

</head>
<!-- END HEAD -->

<body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white page-sidebar-closed">
<!-- BEGIN HEADER -->
<div class="page-header navbar navbar-fixed-top">
    <div class="page-header-inner ">
        <div class="page-logo">
            <a href="index.html">
                <img src="{% static 'assets/layouts/layout/img/logo.png' %}" alt="logo" class="logo-default"/> </a>
            <div class="menu-toggler sidebar-toggler"></div>
        </div>

        <div class="top-menu">
            <ul class="nav navbar-nav pull-right">
                <li class="dropdown dropdown-user">
                    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                       data-close-others="true">
                        <img alt="" class="img-circle"
                             src="{% static 'assets/layouts/layout/img/avatar3_small.jpg' %}"/>
                        <span class="username username-hide-on-mobile"> shubham@bynry.com </span>
                    </a>
                </li>
                <li title="Log Out" class="dropdown dropdown-quick-sidebar-toggler">
                    <a href="javascript:;" class="dropdown-toggle">
                        <i class="icon-logout"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
<!-- END HEADER -->

<div class="clearfix"></div>
<div class="page-container">
    <div class="page-sidebar-wrapper">
        <div class="page-sidebar navbar-collapse collapse">
            {% include 'side-panel.html' %}
        </div>
    </div>
    <div class="page-content-wrapper">
        <div class="page-content">
            <div class="page-bar">
                <ul class="page-breadcrumb">
                    <li>
                        <span>Consumers</span>
                        <i class="fa fa-circle"></i>
                    </li>
                    <li>
                        <span>NSC</span>
                    </li>
                </ul>
            </div>

            <br>
            <div class="col-md-12" style="background: #fff; margin-bottom: 20px; padding: 15px;">
                <div id="filter_div">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-3">
                                <label class="control-label">Consumer Category</label>
                                <select id="select_consumer_category" class="form-control select2">
                                    <option value="All">All</option>
                                    <option value="1-LT-SUPPLY">1-LT-SUPPLY</option>
                                    <option value="2-HT-SUPPLY">2-HT-SUPPLY</option>
                                    <option value="3-EHV">3-EHV</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="control-label">Consumer Sub Category</label>
                                <select id="select_consumer_sub_category" class="form-control select2">
                                    <option value="All">All</option>
                                    <option value="1-LT-SUPPLY">1-LT-SUPPLY</option>
                                    <option value="2-HT-SUPPLY">2-HT-SUPPLY</option>
                                    <option value="3-EHV">3-EHV</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="control-label">Supply Type</label>
                                <select id="select_supply_type" class="form-control select2">
                                    <option value="All">All</option>
                                    <option value="SINGLE-SINGLE-PHASE">SINGLE-SINGLE-PHASE</option>
                                    <option value="THREE-THREE-PHASE">THREE-THREE-PHASE</option>
                                    <option value="HT-HT-SUPPLY">HT-HT-SUPPLY</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="control-label">Status</label>
                                <select id="select_nsc_status" class="form-control select2">
                                    <option value="All">All</option>
                                    <option value="Registered">Registered</option>
                                    <option value="KYC">KYC</option>
                                    <option value="Technical">Technical</option>
                                    <option value="Payment">Payment</option>
                                    <option value="Closed">Closed</option>
                                </select>
                            </div>
                        </div>
                        <br>
                        <div class="row">

                            <div class="col-md-4">
                                <div class="form-group"><label class="control-label ">Application Received Date</label>
                                    <div class="">
                                        <div class="input-group input-large date-picker input-daterange"
                                             data-date="10/11/2012" data-date-format="dd/mm/yyyy">
                                            <input readonly id="start_date" type="text" class="form-control"
                                                   placeholder="Start Date" name="from">
                                            <span class="input-group-addon"> to </span>
                                            <input readonly id="end_date" type="text" class="form-control"
                                                   placeholder="End Date" name="to">
                                        </div>
                                    </div>
                                    <span class="help-block"> Please enter Application Received Date Range </span>
                                </div>
                            </div>
                            <div class="col-md-offset-6 col-md-2" style="text-align:right;">
                                <button type="button" class="btn btn-transparent dark btn-outline btn-circle btn-sm"
                                        onclick="filter_nsc()" style="margin-top: 27px;">
                                    Filter
                                </button>
                                <button type="button" class="btn btn-transparent dark btn-outline btn-circle btn-sm"
                                        onclick="clear_filter()" style="margin-top: 27px;">
                                    Clear
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <!-- BEGIN EXAMPLE TABLE PORTLET-->
                    <div class="portlet light bordered">
                        <div class="portlet-title">
                            <div class="caption font-dark">
                                <i class="icon-settings font-dark"></i>
                                <span class="caption-subject bold uppercase">NSC</span>
                            </div>
                            <div class="caption font-dark" style="margin-left:5%;">
                                <div class="col-xs-12">
                                    <h3 class="page-title" style="margin-top: -4px; margin-bottom:0px"> {{total}}
                                        <small>Total New Connection</small>
                                        | {{open}}
                                        <small>Pending</small>
                                        | {{closed}}
                                        <small>Closed</small>
                                    </h3>
                                </div>
                            </div>
                            <div class="actions">
                                <div class="btn-group btn-group-devided">
                                    <a href="/nscapp/add-new-consumer">
                                        <button type="button"
                                                class="btn btn-transparent dark btn-outline btn-circle btn-sm">
                                            <!--<i class="fa fa-plus"></i>-->
                                            <!--<span class="hidden-xs"> Add New Consumer </span>-->
                                            Add New Consumer
                                        </button>
                                    </a>
                                </div>
                                <div class="btn-group">
                                    <a class="btn red btn-outline btn-circle" href="javascript:;"
                                       data-toggle="dropdown">
                                        <i class="fa fa-share"></i>
                                        <span class="hidden-xs"> Tools </span>
                                        <i class="fa fa-angle-down"></i>
                                    </a>
                                    <ul class="dropdown-menu pull-right" id="nsc_table_tools">
                                        <li>
                                            <a href="javascript:;" data-action="0" class="tool-action">
                                                <i class="icon-printer"></i> Print</a>
                                        </li>

                                        <li>
                                            <a href="javascript:;" data-action="1" class="tool-action">
                                                <i class="icon-doc"></i> PDF</a>
                                        </li>
                                        <li>
                                            <a href="javascript:;" data-action="2" class="tool-action">
                                                <i class="icon-paper-clip"></i> Excel</a>
                                        </li>
                                        <li>
                                            <a href="javascript:;" data-action="3" class="tool-action">
                                                <i class="icon-cloud-upload"></i> CSV</a>
                                        </li>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="portlet-body">
                            <table class="table table-striped table-bordered table-hover table-header-fixed"
                                   id="nsc_table">
                                <thead>
                                <tr>
                                    <th> Registration ID</th>
                                    <th> Applicant Name</th>
                                    <th> Aadhar No.</th>
                                    <th> Contact</th>
                                    <th> Category</th>
                                    <th> Subcategory</th>
                                    <th> Supply Type</th>
                                    <th> Date</th>
                                    <th> Status</th>
                                    <th> Closed Date</th>
                                    <th> Actions</th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                    <!-- END EXAMPLE TABLE PORTLET-->
                </div>
            </div>
        </div>
        <!-- END CONTENT BODY -->
    </div>
    <!-- END CONTENT -->
</div>
<!-- END CONTAINER -->
<!-- Start Model -->
<div id="KYC_model" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title"> Know Your Customer (KYC) Verification:</h4>
            </div>
            <div class="modal-body">
                <div class="scroller" style="height:830px" data-always-visible="1" data-rail-visible1="1">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="edit_utility">
                                <label for="form_control_1">Aadhar No.</label>
                            </div>
                        </div>
                        <div class="col-md-6" style="text-align: -webkit-right;">
                            <button type="button" class="btn green">Verify</button>
                        </div>
                    </div>
                    <div class="row">
                        <hr style="border-top: dotted 1px;"/>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h4><b> e-KYC Information</b></h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="edit_email" readonly="">
                                <label for="form_control_1">Name</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="edit_aadhar" readonly="">
                                <label for="form_control_1">Contact</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="edit_aadhar" readonly="">
                                <label for="form_control_1">Email</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group form-md-line-input has-success ">
                                <textarea class="form-control" id="edit_address1" readonly=""></textarea>
                                <label>Address</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="" readonly="">
                                <label for="form_control_1">City</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="" readonly="">
                                <label for="form_control_1">Pincode</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <hr style="border-top: dotted 1px;"/>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h4><b> Given by Applicant</b></h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="KYC_applicant_name" readonly="">
                                <label for="form_control_1">Name</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="KYC_mobile_no" readonly="">
                                <label for="form_control_1">Contact</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="KYC_email_id" readonly="">
                                <label for="form_control_1">Email</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group form-md-line-input has-success ">
                                <textarea class="form-control" id="KYC_address" readonly=""></textarea>
                                <label>Address</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="KYC_city" readonly="">
                                <label for="form_control_1">City</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="KYC_pincode" readonly="">
                                <label for="form_control_1">Pincode</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <hr style="border-top: dotted 1px;"/>
                    </div>
                    <div class="row">
                        <div class="col-md-6" style="margin-top: 4px;">
                            <div class="form-group form-md-line-input has-success">
                                <select id="verify_KYC" class="form-control input-sm select2-multiple"
                                        onchange="open_remark_KYC();">
                                    <option value="Verified"> Verified</option>
                                    <option value="NotVerified"> Not Verified</option>
                                </select>
                                <label for="consumer_zone">Status </label>
                            </div>
                        </div>
                        <div class="col-md-12" style="display:none" id="remark_div">
                            <label id="remark_error" class="error"
                                   style="color:red; display:none; font-size: 12px;"></label>
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="KYC_remark">
                                <label for="form_control_1">Remark</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <input type="hidden" class="form-control" id="KYC_consumerid">
                <button type="button" data-dismiss="modal" class="btn dark btn-outline">Close</button>
                <button type="button" class="btn green" id="save-KYC">Save</button>
            </div>
        </div>
    </div>
</div>
<div id="technical_model" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <form id="technical_form" method="POST">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title"> Technical Checking Details:</h4>
                </div>
                <div class="modal-body">
                    <div class="scroller" style="height:700px" data-always-visible="1" data-rail-visible1="1">
                        <div class="row">
                            <div class="col-md-12">
                                <h4><b> Application Details</b></h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="tech_reg_no" readonly="">
                                    <label for="form_control_1">Reg. No.</label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="tech_cons_names" readonly="">
                                    <label for="form_control_1">Cons. Name</label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="tech_cont_no" readonly="">
                                    <label for="form_control_1">Contact No.</label>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group form-md-line-input has-success ">
                                    <textarea class="form-control" id="tech_address" readonly=""></textarea>
                                    <label>Address</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="tech_category" readonly="">
                                    <label for="form_control_1">Category</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="tech_subcat" readonly="">
                                    <label for="form_control_1">Subcategory</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="tech_supply_type" readonly="">
                                    <label for="form_control_1">Supply Type</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="tech_premise_type" readonly="">
                                    <label for="form_control_1">Premise Type</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <hr style="border-top: dotted 1px;"/>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4><b> Checklist</b></h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label id="checklist_error"
                                       style="color:red; display:none; font-size: 12px;"></label>
                                <div class="col-md-3">
                                    <div class="md-checkbox">
                                        <input type="checkbox" name="Checklist" value="checkbox1"
                                               id="checkbox1_1" class="md-check CheckListclass">
                                        <label for="checkbox1_1">
                                            <span></span>
                                            <span class="check"></span>
                                            <span class="box"></span> checkbox1 </label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="md-checkbox">
                                        <input type="checkbox" name="Checklist" value="checkbox2"
                                               id="checkbox1_2" class="md-check CheckListclass">
                                        <label for="checkbox1_2">
                                            <span></span>
                                            <span class="check"></span>
                                            <span class="box"></span> checkbox2 </label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="md-checkbox">
                                        <input type="checkbox" name="Checklist" value="checkbox3"
                                               id="checkbox1_3" class="md-check CheckListclass">
                                        <label for="checkbox1_3">
                                            <span></span>
                                            <span class="check"></span>
                                            <span class="box"></span> checkbox3 </label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="md-checkbox">
                                        <input type="checkbox" name="Checklist" value="checkbox4"
                                               id="checkbox1_4" class="md-check CheckListclass">
                                        <label for="checkbox1_4">
                                            <span></span>
                                            <span class="check"></span>
                                            <span class="box"></span> checkbox4 </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <hr style="border-top: dotted 1px;"/>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4><b> Technician Details</b></h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">

                                <div class="form-group form-md-line-input has-success">
                                    <label for="form_control_1">Technician Name</label>
                                    <input type="text" class="form-control" id="technician_name" name="technician_name">
                                    <label id="techname_error"
                                           style="color:red; display:none; font-size: 12px;"></label>
                                </div>
                            </div>
                            <div class="col-md-6">

                                <div class="form-group form-md-line-input has-success">
                                    <label for="form_control_1">Contact No.</label>
                                    <input type="text" class="form-control" id="tech_contact_no" name="tech_contact_no">
                                    <label id="mobile_error"
                                           style="color:red; display:none; font-size: 12px;"></label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6" style="margin-top: 4px;">
                                <div class="form-group form-md-line-input has-success">
                                    <select id="verify_technical" name="verify_technical"
                                            class="form-control input-sm select2-multiple"
                                            onchange="open_remark_technical();">
                                        <option value="Passed"> Pass</option>
                                        <option value="Failed"> Failed</option>
                                    </select>
                                    <label for="consumer_zone">Status by Technician </label>
                                </div>
                            </div>
                            <div class="col-md-12" style="display:none" id="remark_div_tech">
                                <label id="techremark_error" class="error"
                                       style="color:red; display:none; font-size: 12px;"></label>
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="tech_remark" name="tech_remark">
                                    <label for="form_control_1">Remark</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="hidden" class="form-control" id="tech_consumerid" name="tech_consumerid">
                    <button type="button" data-dismiss="modal" class="btn dark btn-outline">Close</button>
                    <button type="button" class="btn green" id="save-technical">Save</button>
                </div>
            </div>
        </form>
    </div>
</div>

<div id="payment_model" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <form id="payment_form" method="POST">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title"> Payment Details:</h4>
                </div>
                <div class="modal-body">
                    <div class="scroller" style="height:550px" data-always-visible="1" data-rail-visible1="1">
                        <div class="row">
                            <div class="col-md-12">
                                <h4><b> Application Details</b></h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="pay_reg_no">
                                    <label for="form_control_1">Reg. No.</label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="pay_cons_name" readonly="">
                                    <label for="form_control_1">Cons. Name</label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="pay_cont_no" readonly="">
                                    <label for="form_control_1">Contact No.</label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="pay_category" readonly="">
                                    <label for="form_control_1">Category</label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="pay_subcategory" readonly="">
                                    <label for="form_control_1">Subcategory</label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="pay_supply_type" readonly="">
                                    <label for="form_control_1">Supply Type</label>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group form-md-line-input has-success ">
                                    <textarea class="form-control" id="pay_address" readonly=""></textarea>
                                    <label>Address</label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group form-md-line-input has-success">
                                    <input type="text" class="form-control" id="pay_pincode" readonly="">
                                    <label for="form_control_1">Pincode</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <hr style="border-top: dotted 1px;"/>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4><b> Payment Details</b></h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group form-md-line-input has-success">
                                    <label for="form_control_1">Amount Paid</label>
                                    <input type="text" class="form-control" name="pay_amount_paid" id="pay_amount_paid">
                                    <label id="amount_error"
                                           style="color:red; display:none; font-size: 12px;"></label>
                                </div>
                            </div>
                            <div class="col-md-6" style="margin-top: 4px;">
                                <div class="form-group form-md-line-input has-success">
                                    <label for="consumer_zone">Payment Mode</label>
                                    <select id="payment_mode" name="payment_mode"
                                            class="form-control input-sm select2-multiple" onchange="change_pay_mode()">
                                        <option value="Cheque">By Cheque</option>
                                        <option value="DD">By DD</option>
                                    </select>

                                </div>
                            </div>
                        </div>
                        <div class="row" id="cheque_div">
                            <div class="col-md-6">
                                <div class="form-group form-md-line-input has-success">
                                    <label for="form_control_1">Cheque No. </label>
                                    <input type="text" class="form-control" name="pay_cheque_no" id="pay_cheque_no">
                                    <label id="checkno_error"
                                           style="color:red; display:none; font-size: 12px;"></label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group form-md-line-input has-success">
                                    <label for="form_control_1">Name on Cheque</label>
                                    <input type="text" class="form-control" name="pay_cheque_name" id="pay_cheque_name">
                                    <label id="checknm_error"
                                           style="color:red; display:none; font-size: 12px;"></label>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="display:none" id="DD_div">
                            <div class="col-md-6">
                                <div class="form-group form-md-line-input has-success">
                                    <label for="form_control_1">Demand Draft No. </label>
                                    <input type="text" class="form-control" name="pay_DD_no" id="pay_DD_no">
                                    <label id="checkDDno_error"
                                           style="color:red; display:none; font-size: 12px;"></label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group form-md-line-input has-success">
                                    <label for="form_control_1">DD</label>
                                    <input type="text" class="form-control" name="pay_DD" id="pay_DD">
                                    <label id="checkDDnm_error"
                                           style="color:red; display:none; font-size: 12px;"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="hidden" class="form-control" id="pay_consumerid" name="pay_consumerid">
                    <button type="button" data-dismiss="modal" class="btn dark btn-outline">Close</button>
                    <button type="button" class="btn green" id="save-payment">Save</button>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="modal fade draggable-modal" id="success_modal" role="basic" aria-hidden="true">
    <div class="modal-dialog" style="width:35%;">
        <div class="modal-content">
            <div class="modal-body">
                <form action="index.html" class="form-horizontal form-row-seperated">
                    <div class="form-body">
                        <h4 class="text-center">Changes saved successfully</h4>
                    </div>
                    <div style="text-align:center !important;" class="modal-footer">
                        <a href="/nscapp/">
                            <button type="button" class="btn green">OK</button>
                        </a>
                    </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade draggable-modal" id="error-modal" tabindex="-1" role="basic" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <form action="index.html" class="form-horizontal form-row-seperated">
                    <div class="form-body">
                        <h4 class="text-center">Error</h4>
                    </div>
                    <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" class="btn green" data-dismiss="modal">OK</button>
                    </div>
            </div>
        </div>
    </div>
</div>

<div id="Meter_Detail_model" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" style="min-width:104%;">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title"> Meter Connection Details:</h4>
            </div>
            <div class="modal-body">
                <div class="scroller" style="height:450px" data-always-visible="1" data-rail-visible1="1">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="registration_no" readonly>
                                <label>Registration No.</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="applicant_name" readonly="">
                                <label >Consumer Name</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="consumer_number" readonly="">
                                <label >Consumer No.</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="connection_category" readonly="">
                                <label >Category</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="connection_sub_category" readonly="">
                                <label >Sub Category</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success">
                                <input type="text" class="form-control" id="connection_supply_type" readonly="">
                                <label >Supply Type</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group form-md-line-input has-success ">
                                <textarea class="form-control" id="connection_address" readonly=""></textarea>
                                <label>Address</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <hr style="border-top: dotted 1px;"/>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h4><b> Meter Details</b></h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success" style="margin-bottom: 0px;">
                                <select id="meter_status" class="form-control input-sm select2-multiple">
                                    <option value="Done"> Done</option>
                                    <option value="Not Done"> Not Done</option>
                                </select>
                                <label>Meter Connection Status<span class="required" aria-required="true"> * </span></label>
                            </div>
                            <span id="error_meter_status" class="display-none has-error"> Please select Meter Connection Status </span>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success" style="margin-bottom: 0px;">
                                <input type="text" class="form-control" id="meter_no" >
                                <label >Meter No. <span class="required" aria-required="true"> * </span></label>
                            </div>
                            <span id="error_meter_no" class="display-none has-error"> Please enter Meter No. </span>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success" style="margin-bottom: 0px;">
                                <input class="form-control form-control-inline  date-picker" data-date-format="dd/mm/yyyy" data-date-viewmode="years"
                                       type="text" class="form-control" readonly>
                                <!--<span class="input-group-btn">-->
                                    <!--<button class="btn default" type="button" style="margin-top: 0px;">-->
                                        <!--<i class="fa fa-calendar"></i>-->
                                    <!--</button>-->
                                <!--</span>-->
                                <label class="control-label">Meter Connection Date <span class="required" aria-required="true"> * </span></label>
                            </div>
                            <span id="error_meter_date" class="display-none has-error" > Please select Meter Connection Date </span>
                        </div>

                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success" style="margin-bottom: 0px;">
                                <select id="meter_route" class="form-control input-sm select2-multiple">
                                    <option value="Done"> Done</option>
                                    <option value="Not Done"> Not Done</option>
                                </select>
                                <label>Route <span class="required" aria-required="true"> * </span></label>
                            </div>
                            <span id="error_meter_route" class="display-none has-error" > Please select Route </span>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success" style="margin-bottom: 0px;">
                                <input type="text" class="form-control" id="tech_name" >
                                <label >Technician Name <span class="required" aria-required="true"> * </span></label>
                            </div>
                            <span id="error_tech_name" class="display-none has-error" > Please enter Technician Name </span>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group form-md-line-input has-success" style="margin-bottom: 0px;">
                                <input type="text" class="form-control" id="tech_contact" >
                                <label >Contact No. <span class="required" aria-required="true"> * </span></label>
                            </div>
                            <span id="error_tech_contact" class="display-none has-error" > Please enter Contact No. </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <input type="hidden" class="form-control" id="meter_consumer_id">
                <button type="button" data-dismiss="modal" class="btn dark btn-outline">Close</button>
                <button type="button" class="btn green" id="save-consumer" onclick="save_meter_details()">Save</button>
            </div>
        </div>
    </div>
</div>

<!-- End Model -->
<!-- BEGIN FOOTER -->
<div class="page-footer">
    <div class="page-footer-inner"> 2017  Bynry Technologies Pvt. Ltd.
    </div>
    <div class="scroll-to-top">
        <i class="icon-arrow-up"></i>
    </div>
</div>
<!-- END FOOTER -->
<!-- BEGIN CORE PLUGINS -->
<script src="{% static 'assets/global/plugins/jquery.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap/js/bootstrap.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/js.cookie.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/jquery.blockui.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/uniform/jquery.uniform.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/datatables/datatables.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/scripts/app.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/layouts/layout/scripts/layout.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/layouts/layout/scripts/demo.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/layouts/global/scripts/quick-sidebar.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/select2/js/select2.full.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/pages/scripts/components-select2.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/clockface/js/clockface.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/pages/scripts/components-date-time-pickers.min.js' %}" type="text/javascript"></script>

<script>

    
    $("#nsc_anchor").prepend('<span class="selected"></span>');
    $("#nsc_menu").addClass("active open");
    $("#nsc_span").addClass("open");

    var initTable1 = function () {
        var table = $('#nsc_table');

        consumer_category = $("#select_consumer_category").val();
        consumer_sub_category = $("#select_consumer_sub_category").val();
        supply_type = $("#select_supply_type").val();
        nsc_status = $("#select_nsc_status").val();
        start_date = $("#start_date").val();
        end_date = $("#end_date").val();

        var fixedHeaderOffset = 0;
        if (App.getViewPort().width < App.getResponsiveBreakpoint('md')) {
            if ($('.page-header').hasClass('page-header-fixed-mobile')) {
                fixedHeaderOffset = $('.page-header').outerHeight(true);
            }
        } else if ($('.page-header').hasClass('navbar-fixed-top')) {
            fixedHeaderOffset = $('.page-header').outerHeight(true);
        }

        var oTable = table.dataTable({
            "bDestroy":true,
            "language": {
                "aria": {
                    "sortAscending": ": activate to sort column ascending",
                    "sortDescending": ": activate to sort column descending"
                },
                "emptyTable": "No data available in table",
                "info": "Showing _START_ to _END_ of _TOTAL_ entries",
                "infoEmpty": "No entries found",
                "infoFiltered": "(filtered1 from _MAX_ total entries)",
                "lengthMenu": "_MENU_ entries",
                "search": "Search:",
                "zeroRecords": "No matching records found"
            },

            fixedHeader: {
                header: true,
                headerOffset: fixedHeaderOffset
            },

            "ajax": "/nscapp/get-nsc-data/?consumer_category="+consumer_category+"&consumer_sub_category="+consumer_sub_category+"&supply_type="+supply_type+"&nsc_status="+nsc_status+"&start_date="+start_date+"&end_date="+end_date,
            "columns": [
                {"data": "registration_id"},
                {"data": "applicant_name"},
                {"data": "aadhar_no"},
                {"data": "contact_no"},
                {"data": "category"},
                {"data": "sub_category"},
                {"data": "supply_type"},
                {"data": "registration_date"},
                {"data": "status"},
                {"data": "closed_date"},
                {"data": "actions"},
            ],

            "order": [
                [0, 'asc']
            ],

            buttons: [
                { extend: 'print', className: 'btn dark btn-outline' },
                { extend: 'pdf', className: 'btn green btn-outline' },
                { extend: 'excel', className: 'btn yellow btn-outline ' },
                { extend: 'csv', className: 'btn purple btn-outline ' },
            ],

            "lengthMenu": [
                [5, 10, 15, 20, -1],
                [5, 10, 15, 20, "All"]
            ],
            "pageLength": 20,

        });
        $('#nsc_table_tools > li > a.tool-action').on('click', function() {
            var action = $(this).attr('data-action');
            oTable.DataTable().button(action).trigger();
        });
    }

    initTable1();

    function filter_nsc(){
        initTable1();
    }

    function clear_filter(){
        $('.select2').val('All').change();
        $("#start_date").val('');
        $("#end_date").val('');
        initTable1();
    }
    
    // SHUBHAM KYC
   function open_remark_KYC() {	
		if ($("#verify_KYC").val()== 'NotVerified' ) {
	  		 $("#remark_div").css("display","block");
		}
		else {
   		$("#remark_div").css("display","none");
		}
	}	
   function open_remark_technical() {	

		if ($("#verify_technical").val()== 'Failed' ) {
	  		 $("#remark_div_tech").css("display","block");
		}
		else {
   		$("#remark_div_tech").css("display","none");
		}
	}
	function change_pay_mode() {

		if ($("#payment_mode").val()== 'DD' ) {
			 $("#cheque_div").css("display","none");
	  		 $("#DD_div").css("display","block");	  	
		}
		else {
   		$("#cheque_div").css("display","block");
   		$("#DD_div").css("display","none");
		}
	}
	   // KYC Verification
	function KYC_verify(var1) {

        var  registration_id = var1;
        $.ajax({
            type: 'GET',
            url: '/nscapp/get-verification-data/',
            data: {'registration_id': registration_id},
            success: function (response) {
      
            console.log(response);
                if (response.success == 'true') {                                	
						$('#KYC_consumerid').val(response.data.consumer_id)						
						$('#KYC_applicant_name').val(response.data.applicant_name)
						$('#KYC_mobile_no').val(response.data.meter_mobile_no)						
						$('#KYC_email_id').val(response.data.meter_email_id)
						$('#KYC_address').val(response.data.address)
						$('#KYC_city').val(response.data.city_name)
						$('#KYC_pincode').val(response.data.pincode)

                  $("#KYC_model").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },

            error: function (response) {
            console.log(response);
                alert('error');
            },
        });            
		}
	function validate_KYC() {
	
		if ($('#verify_KYC').val() == 'NotVerified' & $('#KYC_remark').val() == '') {
			$("#remark_error").css("display", "block");
		   $("#remark_error").text("Please write Remark");
		   return false; 
		}
		else {
		   $("#remark_error").css("display", "none");
			return true
		}		
	}
 	// Save KYC verification 
	$("#save-KYC").click(function(event) {
		if (validate_KYC()) {
		event.preventDefault();  
													
	   var formData= new FormData();

		formData.append("consumer_id",$('#KYC_consumerid').val());		
		formData.append("verify_KYC_status",$('#verify_KYC').val());    
		formData.append("KYC_remark",$('#KYC_remark').val());    
	
  			$.ajax({  				  
				  type	: "POST",
				   url : '/nscapp/save-consumer-kyc/',
 					data : formData,
					cache: false,
		         processData: false,
		    		contentType: false,                       
              success: function (response) {   
	              if(response.success=='true'){
	           	  		$("#success_modal").modal('show');
	              	}
	      			if (response.success == "false") {
							$("#error-model").modal('show');     
	       			}							                        		                      		                       		
               },
               	beforeSend: function () {
            		$("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
               error : function(response){
                  	alert("_Error");
            	}              
           });
     }            
});			
// Technical
	function Technical_verify(var1) {

        var  registration_id = var1;
        $.ajax({
            type: 'GET',
            url: '/nscapp/get-verification-data/',
            data: {'registration_id': registration_id},
            success: function (response) {
      
            console.log(response);
                if (response.success == 'true') {            
                	$('#tech_consumerid').val(response.data.consumer_id)	                    	
						$('#tech_reg_no').val(response.data.registration_no)						
						$('#tech_cons_names').val(response.data.applicant_name)
						$('#tech_cont_no').val(response.data.meter_mobile_no)						
						$('#tech_address').val(response.data.address)
						$('#tech_category').val(response.data.consumer_category)
						$('#tech_subcat').val(response.data.consumer_subcategory)
						$('#tech_supply_type').val(response.data.supply_type)
						$('#tech_premise_type').val(response.data.type_of_premises)

                  $("#technical_model").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },

            error: function (response) {
            console.log(response);
                alert('error');
            },
        });            
		}  
	
   function validate_Technical() {
		if (CheckChecklist()&checkName("#technician_name")&CheckContact("#tech_contact_no")&CheckStatus()) {
			return true;			
		}
		return false;
	 }
	function CheckChecklist() {
			flag_1 = 0
			var CheckedList = document.getElementsByClassName('CheckListclass')
			for(var i=0; CheckedList[i]; ++i){
		      if(CheckedList[i].checked){
		           flag_1 = 1
		           break;
		      }
		   }
		   if (flag_1 == 1) {
		   	$("#checklist_error").css("display", "none");
		  		return true;
			}	
			else {
		    	$("#checklist_error").css("display", "block");	
		      $("#checklist_error").text("Please select at least one Check");
		   	return false; 
			}	
	}
	function checkName(techname) {
		 	var namePattern = /[A-Za-z]+/;  
			techname = $(techname).val()  
		   if(namePattern.test(techname)){
		 	$(techname_error).css("display", "none");
		   return true;
		   }else{
		    $(techname_error).css("display", "block");
		    $(techname_error).text("Please enter valid Name");
		   return false; 
		   }
	}
	function CheckContact(mobile) {
		    mobile = $(mobile).val()     
		   var phoneNumberPattern = /^[789]\d{9}$/; 
		   if(phoneNumberPattern.test(mobile)){
		    $(mobile_error).css("display", "none");
		   return true;
		   }else{
		    $(mobile_error).css("display", "block");
		    $(mobile_error).text("Please enter valid Mobile Number");
		   return false; 
		   }
	}
	function CheckStatus() {
		if ($('#verify_technical').val() == 'Failed' & $('#tech_remark').val() == '') {
			$("#techremark_error").css("display", "block");
		   $("#techremark_error").text("Please write Remark");
		   return false; 
		}
		else {
		   $("#techremark_error").css("display", "none");
			return true
		}	
	}
 	// Save technical verification 
	$("#save-technical").click(function(event)  {
		if (validate_Technical()) {

			event.preventDefault();  																		
  			$.ajax({  				  
				  type	: "POST",
				   url : '/nscapp/save-consumer-technical/',
 					data : $("#technical_form").serialize(),
                       
              success: function (response) {   
	              if(response.success=='true'){
	           	  		$("#success_modal").modal('show');
	              	}
	      			if (response.success == "false") {
							$("#error-model").modal('show');     

	       			}							                        		                      		                       		
               },
               	beforeSend: function () {
            		$("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
               error : function(response){
                  	alert("_Error");
            	}              
           });          
     }  
});

// Payment
	function Payment_verify(var1) {

        var  registration_id = var1;
        $.ajax({
            type: 'GET',
            url: '/nscapp/get-verification-data/',
            data: {'registration_id': registration_id},
            success: function (response) {
      
            console.log(response);
                if (response.success == 'true') {            
                	$('#pay_consumerid').val(response.data.consumer_id)	                    	
						$('#pay_reg_no').val(response.data.registration_no)						
						$('#pay_cons_name').val(response.data.applicant_name)
						$('#pay_cont_no').val(response.data.meter_mobile_no)						
						$('#pay_category').val(response.data.consumer_category)
						$('#pay_subcategory').val(response.data.consumer_subcategory)
						$('#pay_supply_type').val(response.data.supply_type)
						$('#pay_address').val(response.data.address)
						$('#pay_pincode').val(response.data.pincode)

                  $("#payment_model").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },

            error: function (response) {
            console.log(response);
                alert('error');
            },
        });            
		}
		
	function validate_Payment() {	
	
	 	if ($("#payment_mode").val()== 'DD' ) {
			if (CheckAmount()&CheckDDNo()&CheckDDName()) {
			  return true;
			}
			return false;
		}
		else {
			if (CheckAmount()&CheckCNo()&CheckCName()) {
			  return true;
			}
			return false;		   		
		}				
	}
	function CheckAmount() {
		 	var namePattern = /[0-9]+/;  
			Amount = $(pay_amount_paid).val()  
			if(namePattern.test(Amount)){
		 	$(amount_error).css("display", "none");
		   return true;
		   }else{
		    $(amount_error).css("display", "block");
		    $(amount_error).text("Please enter valid Amount");
		   return false; 
		   }
	}
	function CheckCNo() {
		 	var namePattern = /[0-9]+/;  
			number = $(pay_cheque_no).val()  
			if(namePattern.test(number)){
		 	$(checkno_error).css("display", "none");
		   return true;
		   }else{
		    $(checkno_error).css("display", "block");
		    $(checkno_error).text("Please enter valid Cheque No");
		   return false; 
		   }
	}
	function CheckCName() {
		 	var namePattern = /[A-Za-z]+/;  
			ckname = $(pay_cheque_name).val()  
		   if(namePattern.test(ckname)){
		 	$(checknm_error).css("display", "none");
		   return true;
		   }else{
		    $(checknm_error).css("display", "block");
		    $(checknm_error).text("Please enter valid Name");
		   return false; 
		   }		
	}
	function CheckDDNo() {
		 	var namePattern = /[0-9]+/;  
			number = $(pay_DD_no).val()  
			if(namePattern.test(number)){
		 	$(checkDDno_error).css("display", "none");
		   return true;
		   }else{
		    $(checkDDno_error).css("display", "block");
		    $(checkDDno_error).text("Please enter valid DD No");
		   return false; 
		   }
	}
	function CheckDDName() {
		 	var namePattern = /[A-Za-z]+/;  
			ckname = $(pay_DD).val()  
		   if(namePattern.test(ckname)){
		 	$(checkDDnm_error).css("display", "none");
		   return true;
		   }else{
		    $(checkDDnm_error).css("display", "block");
		    $(checkDDnm_error).text("Please enter valid Name");
		   return false; 
		   }		
	}	
 	// Save payment verification 
	$("#save-payment").click(function(event)  {
	if (validate_Payment()) {

		event.preventDefault();  												
						
  			$.ajax({  				  
				  type	: "POST",
				   url : '/nscapp/save-consumer-payment/',
 					data : $("#payment_form").serialize(),
                       
              success: function (response) {   
	              if(response.success=='true'){
	           	  		$("#success_modal").modal('show');
	              	}
	      			if (response.success == "false") {
							$("#error-model").modal('show');     

	       			}							                        		                      		                       		
               },
               	beforeSend: function () {
            		$("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
               error : function(response){
                  	alert("_Error");
            	}              
           });    
     }        
});


    function consumer_details() {
        var  registration_id = '4';
        $.ajax({
            type: 'GET',
            url: '/nscapp/get-consumer-data/',
            data: {'registration_id': registration_id},
            success: function (response) {
            console.log(response);
                if (response.success == 'true') {
                    $('#meter_consumer_id').val('');
                    $('#registration_no').val(response.registration_number);
                    $('#applicant_name').val(response.applicant_name);
                    $('#consumer_number').val('');
                    $('#connection_category').val(response.consumer_category);
                    $('#connection_sub_category').val(response.consumer_sub_category);
                    $('#connection_supply_type').val(response.supply_type);
                    $('#connection_address').val(response.address)
                    $("#Meter_Detail_model").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },

            error: function (response) {
            console.log(response);
                alert('error');
            },
        });
	}

	consumer_details();

	function save_meter_details(){
        $("#")
	}

</script>
</body>
</html>